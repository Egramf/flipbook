<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Flipbook Viewer</title>
  <script src="assets/js/page-flip.browser.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: #eaeaea;
      overflow: hidden;
    }

    #flipbook {
      width: 100%;
      height: 100vh;
    }

    .controls {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 100;
      background: rgba(255, 255, 255, 0.85);
      padding: 10px;
      border-radius: 8px;
    }

    .controls button {
      margin-right: 5px;
    }
  </style>
</head>
<body>

  <div class="controls">
    <button onclick="flipbook.flipPrev()">⟵ Prev</button>
    <button onclick="flipbook.flipNext()">Next ⟶</button>
  </div>

  <div id="flipbook"></div>

  <script>
    let flipbook;

    window.addEventListener("DOMContentLoaded", () => {
      if (!window.PageFlip) {
        console.error("❌ PageFlip library failed to load.");
        return;
      }

      flipbook = new PageFlip(document.getElementById("flipbook"), {
        width: 600,
        height: 800,
        size: "stretch",
        minWidth: 315,
        maxWidth: 2000,
        minHeight: 420,
        maxHeight: 2700,
        showCover: true,
        maxShadowOpacity: 0.5,
        mobileScrollSupport: false
      });

      const images = [];
      for (let i = 1; i <= 24; i++) {
        const page = i.toString().padStart(2, "0");
        images.push(`pages/page${page}.jpg`);
      }

      console.log("✅ Loading images:", images);
      flipbook.loadFromImages(images);
    });
  </script>
</body>
</html>
